<!DOCTYPE html>
<html lang = "en">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
        <title>Select All</title>
        <style type = "text/css">
        * {
    padding: 0;
    margin:  0;

}
section {
    width: 90%;
    height: auto;
    margin: auto;

}
h1 {
    margin: 50px auto;
    width: 200px;

}
table {
    width: 100%;
    margin: 10px 0px 2px 6px;
    table-layout: auto;
    color: #757575;
    text-align: center;
    background-color: #ffff;
    border-collapse: collapse;
    border-spacing: 0;
}
table tr {
    border: 1px solid #757575;

}
table tr th,td {
    padding: 10px 5px;
}
td:first-child {
    width: 100spx;

}
td input {
    margin-left: 30px;

}
button {
    padding: 8px 10px ;
    margin: 10px;
    border: none;
    outline: none;
    background:red;
    color: whitesmoke;
    font-weight: bold;
    display: none;
}

label { 
    cursor: pointer;
}
    input {
        width: 20px;
        height: 20px;
        float: left;
    }


input {
    width: 20px;
    height: 20px;
    float: left;
}
i.fa-edit{
    color: lime;
}
i.fa-trash {
    color: red;
}
ul {
    height : 50px;
    padding: 0px 5px;
    width: auto;
    float: right;
    display: flex;
    justify-content: space-around;
    align-items: center;
}
ul li {
    list-style: none;
    padding: 5px 10px;
    font-weight: bold;
    border: 1px solid #ccc;
}
td:nth-child(6)> input {
    float: none;
    margin: 0;
    width: 15px;
    height: 15px;
}
select {
    width: 126px;
    padding: 6px;
    margin: 5px 0px;
    border: 1px solid #ccc;
    cursor: pointer;
    outline: none;
}
a{
    text-decoration: none;
}
#ids {
    text-align: center;
    margin-top: 50px;
}
/* #ptag {
  
}
#choose {
    margin-left: 900px;
    margin-top: -90px;
} */
</style>
    </head>
    <section>
        <h1>
            Users Details
        </h1>
        <table>
            <thead>
                <tr>
                    <th><label for ="SelectAll"><input type = "checkbox" id = "SelectAll"
                        name=" ">SelectAll</label></th>
                    <th>S.N</th>
                    <th>Name</th>
                    <th>Username</th>
                    <th>Email</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type = "checkbox" class ="select"
                    name =""></td>
                    <td>01</td>
                    <td>Anjali</td>
                    <td>intern</td>
                    <td>intern@unthinkable.co</td>
                    <td><input type = "checkbox"></td>
                    <td><i class = "fa fa-edit"></i> |
                        <i class = "fa fa-trash"></i></td>
                </tr>
                <tr>
                    <td><input type = "checkbox" class ="select"
                    name =""></td>
                    <td>02</td>
                    <td>Anjali</td>
                    <td>intern</td>
                    <td>intern@unthinkable.co</td>
                    <td><input type = "checkbox"></td>
                    <td><i class = "fa fa-edit"></i> |
                        <i class = "fa fa-trash"></i></td>
                </tr>
                <tr>
                    <td><input type = "checkbox" class ="select"
                    name =""></td>
                    <td>03</td>
                    <td>Anjali</td>
                    <td>intern</td>
                    <td>intern@unthinkable.co</td>
                    <td><input type = "checkbox"></td>
                    <td><i class = "fa fa-edit"></i> |
                        <i class = "fa fa-trash"></i></td>
                </tr>
                <tr>
                    <td><input type = "checkbox" class ="select"
                    name =""></td>
                    <td>04</td>
                    <td>Anjali</td>
                    <td>intern</td>
                    <td>intern@unthinkable.co</td>
                    <td><input type = "checkbox"></td>
                    <td><i class = "fa fa-edit"></i> |
                        <i class = "fa fa-trash"></i></td>
                </tr>
                <tr>
                    <td><input type = "checkbox" class ="select"
                    name =""></td>
                    <td>05</td>
                    <td>Anjali</td>
                    <td>intern</td>
                    <td>intern@unthinkable.co</td>
                    <td><input type = "checkbox"></td>
                    <td><i class = "fa fa-edit"></i> |
                        <i class = "fa fa-trash"></i></td>
                </tr>
                <tr>
                    <td><input type = "checkbox" class ="select"
                    name =""></td>
                    <td>06</td>
                    <td>Anjali</td>
                    <td>intern</td>
                    <td>intern@unthinkable.co</td>
                    <td><input type = "checkbox"></td>
                    <td><i class = "fa fa-edit"></i> |
                        <i class = "fa fa-trash"></i></td>
                </tr>
                <tr>
                    <td><input type = "checkbox" class ="select"
                    name =""></td>
                    <td>07</td>
                    <td>Anjali</td>
                    <td>intern</td>
                    <td>intern@unthinkable.co</td>
                    <td><input type = "checkbox"></td>
                    <td><i class = "fa fa-edit"></i> |
                        <i class = "fa fa-trash"></i></td>
                </tr>
                <tr>
                    <td><input type = "checkbox" class ="select"
                    name =""></td>
                    <td>08</td>
                    <td>Anjali</td>
                    <td>intern</td>
                    <td>intern@unthinkable.co</td>
                    <td><input type = "checkbox"></td>
                    <td><i class = "fa fa-edit"></i> |
                        <i class = "fa fa-trash"></i></td>
                </tr>
                <tr>
                    <td><input type = "checkbox" class ="select"
                    name =""></td>
                    <td>09</td>
                    <td>Anjali</td>
                    <td>intern</td>
                    <td>intern@unthinkable.co</td>
                    <td><input type = "checkbox"></td>
                    <td><i class = "fa fa-edit"></i> |
                        <i class = "fa fa-trash"></i></td>
                </tr>
                <tr>
                    <td><input type = "checkbox" class ="select"
                    name =""></td>
                    <td>10</td>
                    <td>Anjali</td>
                    <td>intern</td>
                    <td>intern@unthinkable.co</td>
                    <td><input type = "checkbox"></td>
                    <td><i class = "fa fa-edit"></i> |
                        <i class = "fa fa-trash"></i></td>
                </tr>
                <tr>
                    <td><input type = "checkbox" class ="select"
                    name =""></td>
                    <td>11</td>
                    <td>Anjali</td>
                    <td>intern</td>
                    <td>intern@unthinkable.co</td>
                    <td><input type = "checkbox"></td>
                    <td><i class = "fa fa-edit"></i> |
                        <i class = "fa fa-trash"></i></td>
                </tr>
                <tr>
                    <td><input type = "checkbox" class ="select"
                    name =""></td>
                    <td>12</td>
                    <td>Anjali</td>
                    <td>intern</td>
                    <td>intern@unthinkable.co</td>
                    <td><input type = "checkbox"></td>
                    <td><i class = "fa fa-edit"></i> |
                        <i class = "fa fa-trash"></i></td>
                </tr>
                <tr>
                    <td><input type = "checkbox" class ="select"
                    name =""></td>
                    <td>13</td>
                    <td>Anjali</td>
                    <td>intern</td>
                    <td>intern@unthinkable.co</td>
                    <td><input type = "checkbox"></td>
                    <td><i class = "fa fa-edit"></i> |
                        <i class = "fa fa-trash"></i></td>
                </tr>
                <tr>
                    <td><input type = "checkbox" class ="select"
                    name =""></td>
                    <td>14</td>
                    <td>Anjali</td>
                    <td>intern</td>
                    <td>intern@unthinkable.co</td>
                    <td><input type = "checkbox"></td>
                    <td><i class = "fa fa-edit"></i> |
                        <i class = "fa fa-trash"></i></td>
                </tr>

            </tbody>
        </table>
        <button> <i class = "fa fa-trash" style= "color :white"></i>Delete-all</button>
    </section>
    <section>
        <div id ="ids">
            <p >View Item in a page</p>
            <select name="" id="choose">
                <option value="2">2</option>
                <option value="4" selected>4</option>
                <option value="6">6</option>
                <option value="8">8</option>
                <option value="10">10</option>
                <option value="12">12</option>
            </select>
        </div>
      
        <ul class="pagination">
            <li class = "prev"><a href="#" id  = "prev">&#139;</a></li>
            <li class = "next"><a href="#" id  = "next">&#155;</a></li>
        </ul>
    </section>
</html>
<script type = "text/javascript">
    let main = document.getElementById('SelectAll');
    let checkbox = document.getElementsByClassName('select');

    main.onclick = () => {
        if(main.checked == true) {
            for(let i = 0; i < checkbox.length; i++) {
                checkbox[i].checked = true;
                document.querySelector('button').style.display = 'block';
            }
        } else {
            for(let i = 0; i < checkbox.length; i++) {
                checkbox[i].checked = false;
                document.querySelector('button').style.display = 'none';
            }
        }
    }

    let tbody = document.querySelector('tbody');
    let tr = tbody.getElementsByTagName('tr');
    let select = document.querySelector('select');
    let ul = document.querySelector('.pagination');

    let arrayTr = [];
    for(let i = 0; i < tr.length; i++) {
        arrayTr.push(tr[i]);
    }

    select.onchange = rowCount;

    function rowCount (e) {
        let neil = ul.querySelectorAll('.list');
        neil.forEach(n => n.remove());
        let limit = parseInt(e.target.value);
        displayPage(limit);
    }

    function displayPage(limit) {
        tbody.innerHTML = '';
        for(let i = 0; i < limit; i++) {
        tbody.appendChild(arrayTr[i]);
    }
    buttonGenerator(limit);
}

displayPage(4);

function buttonGenerator(limit) {
    const nofTr = arrayTr.length;
    if(nofTr <= limit) {
        ul.style.display = 'none';
    } else {
        ul.style.display = 'flex';
        const noofPage = Math.ceil(nofTr/limit);
        
        for(i = 1; i <= noofPage; i++) {

            let li = document.createElement('li');
            li.className = 'list';
            let a = document.createElement('a');
            a.href = '#';
            a.setAttribute('data-page',i);
            li.appendChild(a);
            a.innerText = i;
            ul.insertBefore(li,ul.querySelector('.next'));

            a.onclick = e =>{
                let x = e.target.getAttribute('data-page');
                tbody.innerHTML = '';
                x--;
                let start = limit * x;
                let end = start +limit;
                let page = arrayTr.slice(start,end);

                for(let i = 0;i <page.length; i++) {
                    let item = page[i];
                    tbody.appendChild(item);
                }
            }

        }
    }
    let z = 0;
    function nextElement() {
        if(this.id === 'next') {
            z == arrayTr.length - limit ? (z=0) : (z+= limit);
        } 
        if(this.id == 'prev') {
            z == 0 ? arrayTr.length - limit : (z -= limit);

        }
        tbody.innerHTML = '';
        for(let c =z; c<z+limit; c++) {
            tbody.appendChild(arrayTr[c]);
        }

    }
    document.getElementById('prev').onclick = nextElement;
    document.getElementById('next').onclick = nextElement;
}
</script>